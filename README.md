<<<<<<< HEAD
# è‚¡ç¥¨è¡Œæƒ…ç³»ç»Ÿ

ä¸€ä¸ªåŸºäºŽDjango + AKShare + åŽŸç”ŸJavaScriptçš„å®žæ—¶è‚¡ç¥¨è¡Œæƒ…ç½‘é¡µç³»ç»Ÿã€‚

## ðŸš€ é¡¹ç›®ç‰¹æ€§

- **å®žæ—¶è¡Œæƒ…**: èŽ·å–Aè‚¡å®žæ—¶è‚¡ç¥¨ä»·æ ¼å’Œæ¶¨è·Œä¿¡æ¯
- **åŽ†å²æ•°æ®**: æŸ¥çœ‹è‚¡ç¥¨åŽ†å²ä»·æ ¼èµ°åŠ¿å’ŒKçº¿å›¾
- **æœç´¢åŠŸèƒ½**: æ”¯æŒæŒ‰è‚¡ç¥¨ä»£ç æˆ–åç§°æœç´¢
- **å¸‚åœºæ¦‚è§ˆ**: æ˜¾ç¤ºä¸Šè¯æŒ‡æ•°ã€æ·±è¯æˆæŒ‡ç­‰å¸‚åœºæŒ‡æ ‡
- **å“åº”å¼è®¾è®¡**: æ”¯æŒPCå’Œç§»åŠ¨ç«¯è®¿é—®
- **çŽ°ä»£åŒ–UI**: ç¾Žè§‚çš„ç•Œé¢è®¾è®¡å’Œæµç•…çš„ç”¨æˆ·ä½“éªŒ

## ðŸ›  æŠ€æœ¯æž¶æž„

### åŽç«¯æŠ€æœ¯æ ˆ
- **Django 4.2+**: Webæ¡†æž¶
- **Django REST Framework**: APIå¼€å‘
- **AKShare**: è‚¡ç¥¨æ•°æ®èŽ·å–
- **SQLite**: æ•°æ®åº“ï¼ˆå¼€å‘çŽ¯å¢ƒï¼‰
- **Django CORS Headers**: è·¨åŸŸæ”¯æŒ

### å‰ç«¯æŠ€æœ¯æ ˆ
- **HTML5 + CSS3**: é¡µé¢ç»“æž„å’Œæ ·å¼
- **åŽŸç”ŸJavaScript ES6+**: å‰ç«¯é€»è¾‘
- **Chart.js**: å›¾è¡¨å±•ç¤º
- **å“åº”å¼è®¾è®¡**: ç§»åŠ¨ç«¯é€‚é…

## ðŸ“ é¡¹ç›®ç»“æž„

```
akshare_demo/
â”œâ”€â”€ stock_project/          # Djangoé¡¹ç›®é…ç½®
â”‚   â”œâ”€â”€ settings.py        # é¡¹ç›®è®¾ç½®
â”‚   â”œâ”€â”€ urls.py           # ä¸»URLé…ç½®
â”‚   â”œâ”€â”€ wsgi.py           # WSGIé…ç½®
â”‚   â””â”€â”€ asgi.py           # ASGIé…ç½®
â”œâ”€â”€ stock_app/             # è‚¡ç¥¨åº”ç”¨
â”‚   â”œâ”€â”€ models.py         # æ•°æ®æ¨¡åž‹
â”‚   â”œâ”€â”€ views.py          # APIè§†å›¾
â”‚   â”œâ”€â”€ serializers.py    # åºåˆ—åŒ–å™¨
â”‚   â”œâ”€â”€ urls.py           # URLè·¯ç”±
â”‚   â”œâ”€â”€ admin.py          # ç®¡ç†åŽå°
â”‚   â””â”€â”€ akshare_service.py # AKShareæœåŠ¡
â”œâ”€â”€ frontend/              # å‰ç«¯é™æ€æ–‡ä»¶
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ styles.css    # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ js/
â”‚       â””â”€â”€ app.js        # å‰ç«¯é€»è¾‘
â”œâ”€â”€ templates/             # Djangoæ¨¡æ¿
â”‚   â””â”€â”€ index.html        # ä¸»é¡µé¢
â”œâ”€â”€ requirements.txt       # Pythonä¾èµ–
â”œâ”€â”€ manage.py             # Djangoç®¡ç†è„šæœ¬
â””â”€â”€ README.md             # é¡¹ç›®æ–‡æ¡£
```

## ðŸš€ å¿«é€Ÿå¼€å§‹

### 1. çŽ¯å¢ƒè¦æ±‚

- Python 3.8+
- pip

### 2. å®‰è£…ä¾èµ–

```bash
# å®‰è£…Pythonä¾èµ–åŒ…
pip install Django djangorestframework django-cors-headers akshare pandas

# æˆ–è€…ä½¿ç”¨requirements.txt
pip install -r requirements.txt
```

### 3. æ•°æ®åº“è¿ç§»

```bash
# åˆ›å»ºè¿ç§»æ–‡ä»¶
python manage.py makemigrations

# æ‰§è¡Œè¿ç§»
python manage.py migrate

# åˆ›å»ºè¶…çº§ç”¨æˆ·ï¼ˆå¯é€‰ï¼‰
python manage.py createsuperuser
```

### 4. å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
python manage.py runserver

# è®¿é—®åº”ç”¨
# å‰ç«¯é¡µé¢: http://127.0.0.1:8000/
# APIæ–‡æ¡£: http://127.0.0.1:8000/api/
# ç®¡ç†åŽå°: http://127.0.0.1:8000/admin/
```

## ðŸ“š APIæŽ¥å£

### è‚¡ç¥¨ç›¸å…³æŽ¥å£

- `GET /api/stocks/` - èŽ·å–è‚¡ç¥¨åˆ—è¡¨
- `GET /api/stocks/{code}/` - èŽ·å–è‚¡ç¥¨è¯¦æƒ…
- `GET /api/stocks/{code}/realtime/` - èŽ·å–å®žæ—¶è¡Œæƒ…
- `GET /api/stocks/{code}/history/` - èŽ·å–åŽ†å²æ•°æ®

### æœç´¢å’Œå¸‚åœºæŽ¥å£

- `GET /api/search/?q={keyword}` - æœç´¢è‚¡ç¥¨
- `GET /api/market/` - èŽ·å–å¸‚åœºæ¦‚è§ˆ
- `GET /api/list/` - èŽ·å–è‚¡ç¥¨åˆ—è¡¨ï¼ˆåˆ†é¡µï¼‰

### è¯·æ±‚å‚æ•°ç¤ºä¾‹

```bash
# èŽ·å–è‚¡ç¥¨åŽ†å²æ•°æ®
GET /api/stocks/000001/history/?start_date=2024-01-01&end_date=2024-01-31&period=daily

# æœç´¢è‚¡ç¥¨
GET /api/search/?q=å¹³å®‰é“¶è¡Œ

# åˆ†é¡µèŽ·å–è‚¡ç¥¨åˆ—è¡¨
GET /api/list/?page=1&page_size=20
```

## ðŸŽ¯ åŠŸèƒ½æ¨¡å—

### 1. å¸‚åœºæ¦‚è§ˆ
- ä¸Šè¯æŒ‡æ•°ã€æ·±è¯æˆæŒ‡å®žæ—¶æ•°æ®
- å¸‚åœºç»Ÿè®¡ä¿¡æ¯ï¼ˆä¸Šæ¶¨ã€ä¸‹è·Œè‚¡ç¥¨æ•°é‡ï¼‰
- è‡ªåŠ¨åˆ·æ–°æœºåˆ¶

### 2. è‚¡ç¥¨æœç´¢
- æ”¯æŒè‚¡ç¥¨ä»£ç å’Œåç§°æœç´¢
- å®žæ—¶æœç´¢ç»“æžœå±•ç¤º
- æœç´¢åŽ†å²è®°å½•

### 3. è‚¡ç¥¨è¯¦æƒ…
- å®žæ—¶ä»·æ ¼å’Œæ¶¨è·Œä¿¡æ¯
- äº¤æ˜“æ•°æ®ï¼ˆå¼€ç›˜ã€æœ€é«˜ã€æœ€ä½Žã€æˆäº¤é‡ç­‰ï¼‰
- ä»·æ ¼èµ°åŠ¿å›¾è¡¨
- åŽ†å²æ•°æ®è¡¨æ ¼

### 4. æ•°æ®ç®¡ç†
- è‡ªåŠ¨ç¼“å­˜æœºåˆ¶
- æ•°æ®æ›´æ–°ç­–ç•¥
- é”™è¯¯å¤„ç†å’Œé‡è¯•

## ðŸ”§ é…ç½®è¯´æ˜Ž

### Djangoè®¾ç½® (settings.py)

```python
# AKShareé…ç½®
AKSHARE_TIMEOUT = 30  # è¯·æ±‚è¶…æ—¶æ—¶é—´
AKSHARE_RETRY_COUNT = 3  # é‡è¯•æ¬¡æ•°

# CORSé…ç½®
CORS_ALLOW_ALL_ORIGINS = True  # å¼€å‘çŽ¯å¢ƒ
CORS_ALLOWED_ORIGINS = [
    "http://localhost:3000",
    "http://127.0.0.1:8000",
]
```

### æ•°æ®åº“é…ç½®

é»˜è®¤ä½¿ç”¨SQLiteï¼Œç”Ÿäº§çŽ¯å¢ƒå»ºè®®ä½¿ç”¨PostgreSQLï¼š

```python
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql',
        'NAME': 'stock_db',
        'USER': 'your_user',
        'PASSWORD': 'your_password',
        'HOST': 'localhost',
        'PORT': '5432',
    }
}
```

## ðŸš€ éƒ¨ç½²æŒ‡å—

### å¼€å‘çŽ¯å¢ƒéƒ¨ç½²

1. å…‹éš†é¡¹ç›®
2. å®‰è£…ä¾èµ–
3. é…ç½®æ•°æ®åº“
4. å¯åŠ¨æœåŠ¡

### ç”Ÿäº§çŽ¯å¢ƒéƒ¨ç½²

1. ä½¿ç”¨Gunicornä½œä¸ºWSGIæœåŠ¡å™¨
2. é…ç½®Nginxåå‘ä»£ç†
3. ä½¿ç”¨PostgreSQLæ•°æ®åº“
4. é…ç½®SSLè¯ä¹¦
5. è®¾ç½®å®šæ—¶ä»»åŠ¡æ›´æ–°æ•°æ®

```bash
# ä½¿ç”¨Gunicornå¯åŠ¨
gunicorn stock_project.wsgi:application --bind 0.0.0.0:8000

# Dockeréƒ¨ç½²
docker build -t stock-app .
docker run -p 8000:8000 stock-app
```

## ðŸ“Š æ•°æ®æ¨¡åž‹

### Stock (è‚¡ç¥¨ä¿¡æ¯)
- code: è‚¡ç¥¨ä»£ç 
- name: è‚¡ç¥¨åç§°
- market: å¸‚åœºï¼ˆSH/SZï¼‰
- industry: æ‰€å±žè¡Œä¸š

### StockPrice (åŽ†å²ä»·æ ¼)
- stock: å…³è”è‚¡ç¥¨
- date: äº¤æ˜“æ—¥æœŸ
- open_price: å¼€ç›˜ä»·
- high_price: æœ€é«˜ä»·
- low_price: æœ€ä½Žä»·
- close_price: æ”¶ç›˜ä»·
- volume: æˆäº¤é‡
- amount: æˆäº¤é¢

### StockRealtime (å®žæ—¶è¡Œæƒ…)
- stock: å…³è”è‚¡ç¥¨
- current_price: å½“å‰ä»·æ ¼
- change_rate: æ¶¨è·Œå¹…
- change_amount: æ¶¨è·Œé‡‘é¢
- volume: æˆäº¤é‡
- updated_at: æ›´æ–°æ—¶é—´

## ðŸ” æ•…éšœæŽ’é™¤

### å¸¸è§é—®é¢˜

1. **AKShareæ•°æ®èŽ·å–å¤±è´¥**
   - æ£€æŸ¥ç½‘ç»œè¿žæŽ¥
   - ç¡®è®¤AKShareç‰ˆæœ¬å…¼å®¹æ€§
   - æŸ¥çœ‹APIé™åˆ¶å’Œé¢‘çŽ‡

2. **å‰ç«¯æ— æ³•åŠ è½½æ•°æ®**
   - æ£€æŸ¥CORSé…ç½®
   - ç¡®è®¤APIç«¯ç‚¹æ­£ç¡®
   - æŸ¥çœ‹æµè§ˆå™¨æŽ§åˆ¶å°é”™è¯¯

3. **æ•°æ®åº“è¿žæŽ¥é—®é¢˜**
   - æ£€æŸ¥æ•°æ®åº“é…ç½®
   - ç¡®è®¤è¿ç§»å·²æ‰§è¡Œ
   - æŸ¥çœ‹æ•°æ®åº“æƒé™

### è°ƒè¯•æ¨¡å¼

```python
# å¼€å¯è°ƒè¯•æ¨¡å¼
DEBUG = True

# æŸ¥çœ‹SQLæŸ¥è¯¢
LOGGING = {
    'version': 1,
    'handlers': {
        'console': {
            'class': 'logging.StreamHandler',
        },
    },
    'loggers': {
        'django.db.backends': {
            'handlers': ['console'],
            'level': 'DEBUG',
        },
    },
}
```

## ðŸ¤ è´¡çŒ®æŒ‡å—

1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æŽ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»ºPull Request

## ðŸ“„ è®¸å¯è¯

MIT License

## ðŸ“ž è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤Issueæˆ–è”ç³»å¼€å‘è€…ã€‚

---

**æ³¨æ„**: æœ¬é¡¹ç›®ä»…ç”¨äºŽå­¦ä¹ å’Œç ”ç©¶ç›®çš„ï¼Œè‚¡ç¥¨æ•°æ®ä»…ä¾›å‚è€ƒï¼Œä¸æž„æˆæŠ•èµ„å»ºè®®ã€‚
=======
# Stock-quotes
>>>>>>> fc38f30796bfb418a384090fda3f26f34bd0ddc1
